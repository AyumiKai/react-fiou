(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{291:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var useField_1=__webpack_require__(630);exports.useField=useField_1.default;var useForm_1=__webpack_require__(631);exports.useForm=useForm_1.default;try{src.displayName="src",src.__docgenInfo={description:"",displayName:"src",props:{onSubmit:{defaultValue:null,description:"",name:"onSubmit",required:!0,type:{name:"Function"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/index.ts#src"]={docgenInfo:src.__docgenInfo,name:"src",path:"src/index.ts#src"})}catch(__react_docgen_typescript_loader_error){}},316:function(module,__webpack_exports__,__webpack_require__){"use strict";var _storybook_theming__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(317);__webpack_exports__.a=Object(_storybook_theming__WEBPACK_IMPORTED_MODULE_0__.create)({base:"light",colorPrimary:"orange",brandTitle:"React-Fiou",brandUrl:"https://github.com/AyumiKai/react-fiou",brandImage:""})},318:function(module,exports,__webpack_require__){"use strict";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},__rest=this&&this.__rest||function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&(t[p[i]]=s[p[i]])}return t};Object.defineProperty(exports,"__esModule",{value:!0});var index_1=__webpack_require__(291),React=__webpack_require__(0),Button_1=__webpack_require__(292),Grid_1=__webpack_require__(308),FormControl_1=__webpack_require__(309),FormHelperText_1=__webpack_require__(311),Input_1=__webpack_require__(312),InputLabel_1=__webpack_require__(313);__webpack_require__(718);var Field=function(_a){var label=_a.label,name=_a.name,value=_a.value,onChange=(_a.type,_a.onChange),_c=_a.meta,pristine=_c.pristine,errors=_c.errors,formSubmitted=(_c.validating,_a.formSubmitted),other=__rest(_a,["label","name","value","type","onChange","meta","formSubmitted"]),showErrors=(!pristine||formSubmitted)&&!!errors.length;return React.createElement(FormControl_1.default,{className:"field",error:showErrors},React.createElement(InputLabel_1.default,{htmlFor:name},label),React.createElement(Input_1.default,__assign({id:name,value:value,onChange:onChange},other)),React.createElement(FormHelperText_1.default,{component:"div"},showErrors&&errors.map(function(errorMsg){return React.createElement("div",{key:errorMsg},errorMsg)})))};exports.default=function(props){var form=index_1.useForm({onSubmit:function(formData,isValid){isValid&&alert(JSON.stringify(formData))}}),usernameField=index_1.useField("username",form,{defaultValue:"",validations:[function(formData){return formData.username.length<6&&"Username must be at least 6 characters"}],fieldsToValidateOnChange:["username"]}),passWordField=index_1.useField("password",form,{defaultValue:"",validations:[function(formData){return formData.password.length<6&&"Password must be at least 6 characters"}],fieldsToValidateOnChange:["password","confirmPassword"]}),confirmPassWordField=index_1.useField("confirmPassword",form,{defaultValue:"",validations:[function(formData){return formData.password!==formData.confirmPassword&&"Passwords do not match"}],fieldsToValidateOnChange:["password","confirmPassword"]}),requiredFields=[usernameField,passWordField,confirmPassWordField];return React.createElement("div",{className:"container"},React.createElement(Field,__assign({},usernameField,{formSubmitted:form.submitted,label:"username"})),React.createElement(Field,__assign({},passWordField,{formSubmitted:form.submitted,label:"password",type:"password"})),React.createElement(Field,__assign({},confirmPassWordField,{formSubmitted:form.submitted,label:"confirmPassword",type:"password"})),React.createElement(Grid_1.default,{spacing:24,container:!0},React.createElement(Grid_1.default,{item:!0,xs:6},React.createElement(Button_1.default,{variant:"contained",color:"primary",disabled:!form.isValid()||form.submitting||requiredFields.some(function(f){return f.meta.pristine}),onClick:form.onSubmit},"Submit")),React.createElement(Grid_1.default,{item:!0,xs:6},React.createElement(Button_1.default,{onClick:form.onReset,variant:"contained"},"reset"))))};try{basic.displayName="basic",basic.__docgenInfo={description:"",displayName:"basic",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/examples/basic/index.tsx#basic"]={docgenInfo:basic.__docgenInfo,name:"basic",path:"stories/examples/basic/index.tsx#basic"})}catch(__react_docgen_typescript_loader_error){}},320:function(module,exports){module.exports='```js\nimport { useField, useForm } from \'react-fiou\';\nimport * as React from \'react\';\nimport Button from \'@material-ui/core/Button\';\nimport Grid from \'@material-ui/core/Grid\';\nimport TextField from \'@material-ui/core/TextField\';\n\nconst Field = ({\n  label,\n  name,\n  value,\n  type = "text",\n  onChange,\n  meta: {\n    pristine,\n    errors,\n    validating,\n  },\n  formSubmitted,\n  ...other\n}: {\n  label: string,\n  name?: string,\n  value?: any,\n  type?: string,\n  onChange?: (e: React.BaseSyntheticEvent) => void,\n  meta?: any,\n  formSubmitted?: boolean\n}): JSX.Element => {\n  const showErrors = (!pristine || formSubmitted) && !!errors.length;\n  return (\n    <Grid item xs={12}>\n      <Grid item xs={3}>\n        <TextField\n          label={label}\n          value={value}\n          name={name}\n          onChange={onChange}\n          type={type}\n          margin="normal" \n        />\n      </Grid>\n      {showErrors && errors.map((errorMsg: string) => <Grid item xs={3} key={errorMsg}>{errorMsg}</Grid>)}\n    </Grid>\n  );\n};\n\nconst Basic = (props: any) => {\n  const form = useForm({\n    onSubmit: (formData: any, isValid: boolean) => {\n      if (!isValid) return;\n      alert(JSON.stringify(formData));\n    }\n  });\n\n  const usernameField = useField("username", form, {\n    defaultValue: "",\n    validations: [\n      (formData: any) =>\n        formData.username.length < 6 && "Username must be at least 6 characters"\n    ],\n    fieldsToValidateOnChange: ["username"]\n  });\n\n  const passWordField = useField("password", form, {\n    defaultValue: "",\n    validations: [\n      (formData: any) => formData.password.length < 6 && "Password must be at least 6 characters"\n    ],\n    fieldsToValidateOnChange: ["password", "confirmPassword"]\n  });\n\n  const confirmPassWordField = useField("confirmPassword", form, {\n    defaultValue: "",\n    validations: [\n      (formData: any) =>\n        (formData.password !== formData.confirmPassword) &&\n        "Passwords do not match"\n    ],\n    fieldsToValidateOnChange: ["password", "confirmPassword"]\n  });\n\n  const requiredFields = [usernameField, passWordField, confirmPassWordField];\n  return (\n    <div>\n      <Grid spacing={24} container>\n        <Field\n          {...usernameField}\n          formSubmitted={form.submitted}\n          label="username"\n        />\n        <Field\n          {...passWordField}\n          formSubmitted={form.submitted}\n          label="password"\n          type="password"\n        />\n        <Field\n          {...confirmPassWordField}\n          formSubmitted={form.submitted}\n          label="confirmPassword"\n          type="password"\n        />\n        <Grid item xs={3}>\n           <Button\n            variant="contained" \n            color="primary"\n            disabled={\n              !form.isValid() ||\n              form.submitting ||\n              requiredFields.some(f => f.meta.pristine)\n            }\n            onClick={form.onSubmit}\n          >Submit</Button>\n        </Grid>\n        <Grid item xs={3}>\n          <Button onClick={form.onReset} variant="contained">reset</Button>\n        </Grid>\n      </Grid>\n    </div>\n  );\n};\n\nexport default Basic;\n```\n\n'},321:function(module,exports,__webpack_require__){"use strict";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function step(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}},__rest=this&&this.__rest||function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&(t[p[i]]=s[p[i]])}return t},_this=this;Object.defineProperty(exports,"__esModule",{value:!0});var index_1=__webpack_require__(291),React=__webpack_require__(0),Button_1=__webpack_require__(292),Grid_1=__webpack_require__(308),FormControl_1=__webpack_require__(309),FormHelperText_1=__webpack_require__(311),Input_1=__webpack_require__(312),InputLabel_1=__webpack_require__(313),InputAdornment_1=__webpack_require__(721);__webpack_require__(725);var sleep=function(time){return __awaiter(_this,void 0,void 0,function(){return __generator(this,function(_a){return[2,new Promise(function(resolve){setTimeout(resolve,time)})]})})},Field=function(_a){var label=_a.label,name=_a.name,value=_a.value,onChange=_a.onChange,_b=_a.meta,pristine=_b.pristine,errors=_b.errors,validating=_b.validating,formSubmitted=(_b.validate,_a.formSubmitted),other=__rest(_a,["label","name","value","onChange","meta","formSubmitted"]),showErrors=(!pristine||formSubmitted)&&!!errors.length;return React.createElement(FormControl_1.default,{className:"field",error:showErrors},React.createElement(InputLabel_1.default,{htmlFor:name},label),React.createElement(Input_1.default,__assign({id:name,value:value,onChange:onChange,endAdornment:React.createElement(InputAdornment_1.default,{position:"end"},validating&&React.createElement("div",{className:"loading"}))},other)),React.createElement(FormHelperText_1.default,{component:"div"},showErrors&&errors.map(function(errorMsg){return React.createElement("div",{key:errorMsg},errorMsg)})))};exports.default=function(props){var form=index_1.useForm({onSubmit:function(formData,isValid){return __awaiter(_this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,sleep(2e3)];case 1:return _a.sent(),isValid?(alert(JSON.stringify(formData)),[2]):[2]}})})}}),usernameField=index_1.useField("username",form,{defaultValue:"",validations:[function(formData){return __awaiter(_this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,sleep(2e3)];case 1:return _a.sent(),[2,formData.username.length<6&&"Username must be at least 6 characters"]}})})}],fieldsToValidateOnChange:["username"]}),passWordField=index_1.useField("password",form,{defaultValue:"",validations:[function(formData){return formData.password.length<6&&"Password must be at least 6 characters"}],fieldsToValidateOnChange:["password","confirmPassword"]}),confirmPassWordField=index_1.useField("confirmPassword",form,{defaultValue:"",validations:[function(formData){return formData.password!==formData.confirmPassword&&"Passwords do not match"}],fieldsToValidateOnChange:["password","confirmPassword"]}),requiredFields=[usernameField,passWordField,confirmPassWordField];return React.createElement("div",null,React.createElement("div",{className:"container"},React.createElement(Field,__assign({},usernameField,{formSubmitted:form.submitted,label:"username"})),React.createElement(Field,__assign({},passWordField,{formSubmitted:form.submitted,label:"password",type:"password"})),React.createElement(Field,__assign({},confirmPassWordField,{formSubmitted:form.submitted,label:"confirmPassword",type:"password"})),React.createElement(Grid_1.default,{container:!0,spacing:24},React.createElement(Grid_1.default,{item:!0,xs:6},React.createElement(Button_1.default,{variant:"contained",color:"primary",disabled:!form.isValid()||form.submitting||requiredFields.some(function(f){return f.meta.pristine}),onClick:form.onSubmit},"Submit")),React.createElement(Grid_1.default,{item:!0,xs:6},React.createElement(Button_1.default,{onClick:form.onReset,variant:"contained"},"reset")))))};try{asyncValidate.displayName="asyncValidate",asyncValidate.__docgenInfo={description:"",displayName:"asyncValidate",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/examples/asyncValidate/index.tsx#asyncValidate"]={docgenInfo:asyncValidate.__docgenInfo,name:"asyncValidate",path:"stories/examples/asyncValidate/index.tsx#asyncValidate"})}catch(__react_docgen_typescript_loader_error){}},322:function(module,exports){module.exports='```js\nimport { useField, useForm } from \'react-fiou\';\nimport * as React from \'react\';\nimport Button from \'@material-ui/core/Button\';\nimport Grid from \'@material-ui/core/Grid\';\nimport FormControl from "@material-ui/core/FormControl";\nimport FormHelperText from "@material-ui/core/FormHelperText";\nimport Input from "@material-ui/core/Input";\nimport InputLabel from "@material-ui/core/InputLabel";\nimport InputAdornment from "@material-ui/core/InputAdornment";\nimport \'./index.css\';\n\nconst sleep = async(time: number) => {\n  return new Promise((resolve: Function) => {\n    setTimeout(resolve, time);\n  });\n}\n\nconst Field = ({\n  label,\n  name,\n  value,\n  onChange,\n  meta: {\n    pristine,\n    errors,\n    validating,\n    validate\n  },\n  formSubmitted,\n  ...other\n}: {\n  label: string,\n  name?: string,\n  value?: any,\n  type?: string,\n  onChange?: (e: React.BaseSyntheticEvent) => void,\n  meta?: any,\n  formSubmitted?: boolean\n}): JSX.Element => {\n  const showErrors = (!pristine || formSubmitted) && !!errors.length;\n  return (\n    <FormControl className="field" error={showErrors}>\n      <InputLabel htmlFor={name}>{label}</InputLabel>\n      <Input\n        id={name}\n        value={value}\n        onChange={onChange}\n        endAdornment={\n          <InputAdornment position="end">\n            {validating && (\n              <div className="loading">\n              </div>\n            )}\n          </InputAdornment>\n        }\n        {...other}\n      />\n      <FormHelperText component="div">\n        {showErrors &&\n          errors.map((errorMsg: any) => <div key={errorMsg}>{errorMsg}</div>)}\n      </FormHelperText>\n    </FormControl>\n  );\n};\n\nconst Basic = (props: any) => {\n  const form = useForm({\n    onSubmit: async (formData: any, isValid: boolean) => {\n      await sleep(2000);\n      if (!isValid) return;\n      alert(JSON.stringify(formData));\n    }\n  });\n\n  const usernameField = useField("username", form, {\n    defaultValue: "",\n    validations: [\n      async (formData: any) => {\n        await sleep(2000)\n        return formData.username.length < 6 && "Username must be at least 6 characters"\n      }\n    ],\n    fieldsToValidateOnChange: ["username"]\n  });\n\n  const passWordField = useField("password", form, {\n    defaultValue: "",\n    validations: [\n      (formData: any) => formData.password.length < 6 && "Password must be at least 6 characters"\n    ],\n    fieldsToValidateOnChange: ["password", "confirmPassword"]\n  });\n\n  const confirmPassWordField = useField("confirmPassword", form, {\n    defaultValue: "",\n    validations: [\n      (formData: any) =>\n        (formData.password !== formData.confirmPassword) &&\n        "Passwords do not match"\n    ],\n    fieldsToValidateOnChange: ["password", "confirmPassword"]\n  });\n\n  const requiredFields = [usernameField, passWordField, confirmPassWordField];\n  return (\n    <div>\n      <div className="container">\n        <Field\n          {...usernameField}\n          formSubmitted={form.submitted}\n          label="username"\n        />\n        <Field\n          {...passWordField}\n          formSubmitted={form.submitted}\n          label="password"\n          type="password"\n        />\n        <Field\n          {...confirmPassWordField}\n          formSubmitted={form.submitted}\n          label="confirmPassword"\n          type="password"\n        />\n        <Grid container spacing={24}>\n          <Grid item xs={6}>\n            <Button\n              variant="contained" \n              color="primary"\n              disabled={\n                !form.isValid() ||\n                form.submitting ||\n                requiredFields.some(f => f.meta.pristine)\n              }\n              onClick={form.onSubmit}\n            >Submit</Button>\n          </Grid>\n          <Grid item xs={6}>\n            <Button onClick={form.onReset} variant="contained">reset</Button>\n          </Grid>\n        </Grid>\n      </div>\n    </div>\n  );\n};\n\nexport default Basic;\n```\n\n'},323:function(module,exports,__webpack_require__){__webpack_require__(324),__webpack_require__(401),module.exports=__webpack_require__(402)},402:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__(27),__webpack_require__(29),__webpack_require__(26),__webpack_require__(55);var _storybook_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(82),_theme__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(316);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_4__.addParameters)({options:{theme:_theme__WEBPACK_IMPORTED_MODULE_5__.a}});var req=__webpack_require__(546);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_4__.configure)(function loadStories(){req.keys().forEach(function(filename){return req(filename)})},module)}.call(this,__webpack_require__(156)(module))},546:function(module,exports,__webpack_require__){var map={"./index.stories.js":547};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=546},547:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_storybook_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(82),_examples_basic__WEBPACK_IMPORTED_MODULE_5__=(__webpack_require__(548),__webpack_require__(618),__webpack_require__(627),__webpack_require__(318)),_examples_basic__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_examples_basic__WEBPACK_IMPORTED_MODULE_5__),_examples_basic_code_md__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(320),_examples_basic_code_md__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_examples_basic_code_md__WEBPACK_IMPORTED_MODULE_6__),_examples_asyncValidate__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(321),_examples_asyncValidate__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(_examples_asyncValidate__WEBPACK_IMPORTED_MODULE_7__),_examples_asyncValidate_code_md__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(322),_examples_asyncValidate_code_md__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(_examples_asyncValidate_code_md__WEBPACK_IMPORTED_MODULE_8__),_ref=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_examples_basic__WEBPACK_IMPORTED_MODULE_5___default.a,null);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_1__.storiesOf)("Basic",module).add("Basic example",function(){return _ref},{notes:_examples_basic_code_md__WEBPACK_IMPORTED_MODULE_6___default.a});var _ref2=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_examples_asyncValidate__WEBPACK_IMPORTED_MODULE_7___default.a,null);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_1__.storiesOf)("Async validate",module).add("Async validate example",function(){return _ref2},{notes:_examples_asyncValidate_code_md__WEBPACK_IMPORTED_MODULE_8___default.a})}.call(this,__webpack_require__(156)(module))},630:function(module,exports,__webpack_require__){"use strict";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function step(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}},_this=this;Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__webpack_require__(0);exports.default=function(name,form,_a){var _b=_a.defaultValue,defaultValue=void 0===_b?"":_b,_c=_a.validations,validations=void 0===_c?[]:_c,_d=_a.fieldsToValidateOnChange,fieldsToValidateOnChange=void 0===_d?[]:_d,_e=react_1.useState(defaultValue),value=_e[0],setValue=_e[1],_f=react_1.useState([]),errors=_f[0],setErrors=_f[1],_g=react_1.useState(!defaultValue),pristine=_g[0],setPristine=_g[1],_h=react_1.useState(!1),validating=_h[0],setValidating=_h[1],validateCounter=react_1.useRef(0),field={name:name,value:value,onChange:function(e){pristine&&setPristine(!1),setValue(e.target.value)},onReset:function(){setPristine(!0),setErrors([]),setValue(defaultValue)},setErrors:setErrors,setValue:setValue,meta:{errors:errors,pristine:pristine,validate:function(){return __awaiter(_this,void 0,void 0,function(){var validateIteration,formData,errorMessages;return __generator(this,function(_a){switch(_a.label){case 0:return validateIteration=++validateCounter.current,setValidating(!0),formData=form.getFormData(),[4,Promise.all(validations.map(function(validation){return validation(formData,name)}))];case 1:return errorMessages=(errorMessages=_a.sent()).filter(function(errorMsg){return!!errorMsg}),validateIteration===validateCounter.current&&(setErrors(errorMessages),setValidating(!1)),[2,0===errorMessages.length]}})})},validating:validating,defaultValue:defaultValue}};return form.addField(field),react_1.useEffect(function(){pristine||form.validateFields(fieldsToValidateOnChange)},[value]),field}},631:function(module,exports,__webpack_require__){"use strict";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function step(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}},_this=this;Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__webpack_require__(0),useForm=function(_a){var onSubmit=_a.onSubmit,_b=react_1.useState(!1),submitted=_b[0],setSubmitted=_b[1],_c=react_1.useState(!1),submitting=_c[0],setSubmitting=_c[1],fields=[],validateFields=function(fieldNames){return __awaiter(_this,void 0,void 0,function(){var fieldsToValidate,fieldsValid;return __generator(this,function(_a){switch(_a.label){case 0:return fieldsToValidate=Array.isArray(fieldNames)?fields.filter(function(field){return fieldNames.includes(field.name)}):fields,[4,Promise.all(fieldsToValidate.map(function(field){return field.meta.validate()}))];case 1:return fieldsValid=_a.sent(),[2,fieldsValid.every(function(isValid){return!0===isValid})]}})})},getFormData=function(){return fields.reduce(function(formData,f){return formData[f.name]=f.value,formData},{})};return{onSubmit:function(e){return __awaiter(_this,void 0,void 0,function(){var formValid,returnVal;return __generator(this,function(_a){switch(_a.label){case 0:return e.preventDefault(),setSubmitting(!0),setSubmitted(!0),[4,validateFields([])];case 1:return formValid=_a.sent(),[4,onSubmit(getFormData(),formValid)];case 2:return returnVal=_a.sent(),setSubmitting(!1),[2,returnVal]}})})},isValid:function(){return fields.every(function(f){return 0===f.meta.errors.length})},addField:function(field){fields.push(field)},getFormData:getFormData,validateFields:validateFields,submitted:submitted,submitting:submitting,onReset:function(e){e.preventDefault(),fields.forEach(function(field){field.meta.pristine||field.onReset()})}}};exports.default=useForm;try{useForm.displayName="useForm",useForm.__docgenInfo={description:"",displayName:"useForm",props:{onSubmit:{defaultValue:null,description:"",name:"onSubmit",required:!0,type:{name:"Function"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/useForm.ts#useForm"]={docgenInfo:useForm.__docgenInfo,name:"useForm",path:"src/useForm.ts#useForm"})}catch(__react_docgen_typescript_loader_error){}},718:function(module,exports,__webpack_require__){var content=__webpack_require__(719);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(315)(content,options);content.locals&&(module.exports=content.locals)},719:function(module,exports,__webpack_require__){(module.exports=__webpack_require__(314)(!1)).push([module.i,".container {\n  display: flex;\n  flex-direction: column;\n  margin: 0 auto;\n  width: 40%;\n}",""])},725:function(module,exports,__webpack_require__){var content=__webpack_require__(726);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(315)(content,options);content.locals&&(module.exports=content.locals)},726:function(module,exports,__webpack_require__){(module.exports=__webpack_require__(314)(!1)).push([module.i,".container {\n  display: flex;\n  flex-direction: column;\n  margin: 0 auto;\n  width: 40%;\n}\n\n.loading{\n  width:20px;\n  height:20px;\n  border-radius:50%;\n  border:15px solid rgba(0,0,0,0.1);\n  border-top-color:rgba(0,0,0,0.3);\n  box-sizing:border-box;\n  position:absolute;\n  right:5%;\n  top: 25%;\n  margin-top:-10px;\n  margin-left:-10px;\n  animation:loading 1.2s linear infinite;\n  -webkit-animation:loading 1.2s linear infinite;\n}\n@keyframes loading{\n  0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}\n  100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}\n}\n@-webkit-keyframes loading{\n  0%{-webkit-transform:rotate(0deg)}\n  100%{-webkit-transform:rotate(360deg)}\n}",""])}},[[323,1,2]]]);
//# sourceMappingURL=main.97b9f83dfbcd913c0e14.bundle.js.map